#!/usr/bin/env ruby

$: << "lib" << "."

require 'struggle'
require 'struggle/game'

g = Game.new
g.start

g.accept(
  Move.new(
    player: USSR,
    instruction: Instructions::AddInfluence.new(
      influence: USSR,
      country_name: "East Germany",
      amount: 6
    )
  )
)

g.accept(
  Move.new(
    player: US,
    instruction: Instructions::AddInfluence.new(
      influence: US,
      country_name: "Italy",
      amount: 7
    )
  )
)

# skip headline for now...

# play opponent card, first for the event
g.accept(
  Move.new(
    player: USSR,
    instruction: Instructions::PlayCard.new(
      player: USSR,
      card_ref: "Defectors",
      card_action: :event,
    )
  )
)

# and then for influence
g.accept(
  Move.new(
    player: USSR,
    instruction: Instructions::PlayCard.new(
      player: USSR,
      card_ref: "Defectors",
      card_action: :influence,
    )
  )
)

p g.hint

require 'pp'
pp g

